{"version":3,"file":"src_app_shared_map_map_component_ts.js","mappings":"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","sources":["./src/app/shared/map/map-point.component.ts","./src/app/shared/map/map.component.ts","./node_modules/rxjs/dist/esm/internal/Scheduler.js","./node_modules/rxjs/dist/esm/internal/operators/debounceTime.js","./node_modules/rxjs/dist/esm/internal/scheduler/Action.js","./node_modules/rxjs/dist/esm/internal/scheduler/AsyncAction.js","./node_modules/rxjs/dist/esm/internal/scheduler/AsyncScheduler.js","./node_modules/rxjs/dist/esm/internal/scheduler/async.js","./node_modules/rxjs/dist/esm/internal/scheduler/dateTimestampProvider.js","./node_modules/rxjs/dist/esm/internal/scheduler/intervalProvider.js"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'cm-map-point',\n  template: ``\n})\nexport class MapPointComponent implements OnInit {\n\n  @Input() longitude: number = 0;\n  @Input() latitude: number = 0;\n  @Input() markerText: string = '';\n\n  constructor() { }\n\n  ngOnInit() {\n\n  }\n\n}\n","/// <reference path=\"../../../../node_modules/@types/googlemaps/index.d.ts\" />\n\nimport {\n  Component, OnInit, AfterContentInit, Input, ViewChild,\n  ContentChildren, ElementRef, QueryList, ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { debounceTime } from 'rxjs/operators';\nimport { MapPointComponent } from './map-point.component';\nimport { IMapDataPoint } from '../../shared/interfaces';\n\n@Component({\n  selector: 'cm-map',\n  templateUrl: './map.component.html',\n  // When using OnPush detectors, then the framework will check an OnPush\n  // component when any of its input properties changes, when it fires\n  // an event, or when an observable fires an event ~ Victor Savkin (Angular Team)\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class MapComponent implements OnInit, AfterContentInit {\n\n  private isEnabled: boolean = false;\n  private loadingScript: boolean = false;\n  private map: google.maps.Map = {} as google.maps.Map;\n  private markers: google.maps.Marker[] = [];\n  mapHeight: string | null = null;\n  mapWidth: string | null = null;\n\n  @Input() height: number = 0;\n  @Input() width: number = 0;\n  @Input() latitude = 34.5133;\n  @Input() longitude = -94.1629;\n  @Input() markerText = 'Your Location';\n  @Input() zoom = 8;\n  private _dataPoints: IMapDataPoint[] = [];\n  @Input() public get dataPoints() {\n    return this._dataPoints as IMapDataPoint[];\n  }\n\n  public set dataPoints(value: any[]) {\n    this._dataPoints = value;\n    this.renderMapPoints();\n  }\n\n  // Necessary since a map rendered while container is hidden\n  // will not load the map tiles properly and show a grey screen\n  @Input() get enabled(): boolean {\n    return this.isEnabled;\n  }\n\n  set enabled(isEnabled: boolean) {\n    this.isEnabled = isEnabled;\n    this.init();\n  }\n\n  @ViewChild('mapContainer', { static: true }) mapDiv: ElementRef = {} as ElementRef;\n  @ContentChildren(MapPointComponent) mapPoints: QueryList<MapPointComponent> = {} as QueryList<MapPointComponent>;\n\n  constructor() { }\n\n  ngOnInit() {\n    if (this.latitude && this.longitude) {\n      if (this.mapHeight && this.mapWidth) {\n        this.mapHeight = this.height + 'px';\n        this.mapWidth = this.width + 'px';\n      } else {\n        const hw = this.getWindowHeightWidth(this.mapDiv.nativeElement.ownerDocument);\n        this.mapHeight = hw.height / 2 + 'px';\n        this.mapWidth = hw.width + 'px';\n      }\n    }\n  }\n\n  ngAfterContentInit() {\n    this.mapPoints.changes\n        .pipe(\n          debounceTime(500)\n        )\n        .subscribe(() => {\n          if (this.enabled) { \n            this.renderMapPoints(); \n          }\n        });\n  }\n\n  init() {\n    // Need slight delay to avoid grey box when google script has previously been loaded.\n    // Otherwise map <div> container may not be visible yet which causes the grey box.\n    setTimeout(() => {\n      this.ensureScript();\n    }, 200);\n  }\n\n  private getWindowHeightWidth(document: Document) {\n    let width = window.innerWidth\n      || document.documentElement.clientWidth\n      || document.body.clientWidth;\n\n    const height = window.innerHeight\n      || document.documentElement.clientHeight\n      || document.body.clientHeight;\n\n    if (width > 900) { width = 900; }\n\n    return { height: height, width: width };\n  }\n\n  private ensureScript() {\n    this.loadingScript = true;\n    const document = this.mapDiv.nativeElement.ownerDocument;\n    const script = <HTMLScriptElement>document.querySelector('script[id=\"googlemaps\"]');\n    if (script) {\n      if (this.isEnabled) { this.renderMap(); }\n    } else {\n      const mapsScript = document.createElement('script');\n      mapsScript.id = 'googlemaps';\n      mapsScript.type = 'text/javascript';\n      mapsScript.async = true;\n      mapsScript.defer = true;\n      mapsScript.src = 'https://maps.googleapis.com/maps/api/js?key=AIzaSyCG1KDldeF_2GzaTXrEHR0l6cyCS7AnmBw';\n      mapsScript.onload = () => {\n        this.loadingScript = false;\n        if (this.isEnabled) { this.renderMap(); }\n      };\n      document.body.appendChild(mapsScript);\n    }\n  }\n\n  private renderMap() {\n    const latlng = this.createLatLong(this.latitude, this.longitude) as google.maps.LatLng;\n    const options = {\n      zoom: this.zoom,\n      center: latlng,\n      mapTypeControl: true,\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    } as google.maps.MapOptions;\n\n    this.map = new google.maps.Map(this.mapDiv.nativeElement, options);\n\n    // See if we have any mapPoints (child content) or dataPoints (@Input property)\n    if ((this.mapPoints && this.mapPoints.length) || (this.dataPoints && this.dataPoints.length)) {\n      this.renderMapPoints();\n    } else {\n      this.createMarker(latlng, this.markerText);\n    }\n  }\n\n  private createLatLong(latitude: number, longitude: number) {\n    return (latitude && longitude) ? new google.maps.LatLng(latitude, longitude) : null;\n  }\n\n  private renderMapPoints() {\n    if (this.map && this.isEnabled) {\n      this.clearMapPoints();\n\n      // lon/lat can be passed as child content or via the dataPoints @Input property\n      const mapPoints = (this.mapPoints && this.mapPoints.length) ? this.mapPoints : this.dataPoints;\n\n      if (mapPoints) {\n        for (const point of mapPoints) {\n          let markerText = (point.markerText) ? point.markerText : `<h3>${point.firstName} ${point.lastName}</h3>`;\n          const mapPointLatlng = this.createLatLong(point.latitude, point.longitude) as google.maps.LatLng;\n          this.createMarker(mapPointLatlng, markerText);\n        }\n      }\n    }\n  }\n\n  private clearMapPoints() {\n    this.markers.forEach((marker: google.maps.Marker) => {\n      marker.setMap(null);\n    });\n    this.markers = [];\n  }\n\n  private createMarker(position: google.maps.LatLng, title: string) {\n    const infowindow = new google.maps.InfoWindow({\n      content: title\n    });\n\n    const marker = new google.maps.Marker({\n      position: position,\n      map: this.map,\n      title: title,\n      animation: google.maps.Animation.DROP\n    });\n\n    this.markers.push(marker);\n\n    marker.addListener('click', () => {\n      infowindow.open(this.map, marker);\n    });\n  }\n}\n","import { dateTimestampProvider } from './scheduler/dateTimestampProvider';\nexport class Scheduler {\n    constructor(schedulerActionCtor, now = Scheduler.now) {\n        this.schedulerActionCtor = schedulerActionCtor;\n        this.now = now;\n    }\n    schedule(work, delay = 0, state) {\n        return new this.schedulerActionCtor(this, work).schedule(state, delay);\n    }\n}\nScheduler.now = dateTimestampProvider.now;\n","import { asyncScheduler } from '../scheduler/async';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function debounceTime(dueTime, scheduler = asyncScheduler) {\n    return operate((source, subscriber) => {\n        let activeTask = null;\n        let lastValue = null;\n        let lastTime = null;\n        const emit = () => {\n            if (activeTask) {\n                activeTask.unsubscribe();\n                activeTask = null;\n                const value = lastValue;\n                lastValue = null;\n                subscriber.next(value);\n            }\n        };\n        function emitWhenIdle() {\n            const targetTime = lastTime + dueTime;\n            const now = scheduler.now();\n            if (now < targetTime) {\n                activeTask = this.schedule(undefined, targetTime - now);\n                subscriber.add(activeTask);\n                return;\n            }\n            emit();\n        }\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            lastValue = value;\n            lastTime = scheduler.now();\n            if (!activeTask) {\n                activeTask = scheduler.schedule(emitWhenIdle, dueTime);\n                subscriber.add(activeTask);\n            }\n        }, () => {\n            emit();\n            subscriber.complete();\n        }, undefined, () => {\n            lastValue = activeTask = null;\n        }));\n    });\n}\n","import { Subscription } from '../Subscription';\nexport class Action extends Subscription {\n    constructor(scheduler, work) {\n        super();\n    }\n    schedule(state, delay = 0) {\n        return this;\n    }\n}\n","import { Action } from './Action';\nimport { intervalProvider } from './intervalProvider';\nimport { arrRemove } from '../util/arrRemove';\nexport class AsyncAction extends Action {\n    constructor(scheduler, work) {\n        super(scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.pending = false;\n    }\n    schedule(state, delay = 0) {\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        const id = this.id;\n        const scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    }\n    requestAsyncId(scheduler, _id, delay = 0) {\n        return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    }\n    recycleAsyncId(_scheduler, id, delay = 0) {\n        if (delay != null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        intervalProvider.clearInterval(id);\n        return undefined;\n    }\n    execute(state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        const error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    }\n    _execute(state, _delay) {\n        let errored = false;\n        let errorValue;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = e ? e : new Error('Scheduled action threw falsy error');\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            const { id, scheduler } = this;\n            const { actions } = scheduler;\n            this.work = this.state = this.scheduler = null;\n            this.pending = false;\n            arrRemove(actions, this);\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n            super.unsubscribe();\n        }\n    }\n}\n","import { Scheduler } from '../Scheduler';\nexport class AsyncScheduler extends Scheduler {\n    constructor(SchedulerAction, now = Scheduler.now) {\n        super(SchedulerAction, now);\n        this.actions = [];\n        this._active = false;\n        this._scheduled = undefined;\n    }\n    flush(action) {\n        const { actions } = this;\n        if (this._active) {\n            actions.push(action);\n            return;\n        }\n        let error;\n        this._active = true;\n        do {\n            if ((error = action.execute(action.state, action.delay))) {\n                break;\n            }\n        } while ((action = actions.shift()));\n        this._active = false;\n        if (error) {\n            while ((action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport const asyncScheduler = new AsyncScheduler(AsyncAction);\nexport const async = asyncScheduler;\n","export const dateTimestampProvider = {\n    now() {\n        return (dateTimestampProvider.delegate || Date).now();\n    },\n    delegate: undefined,\n};\n","export const intervalProvider = {\n    setInterval(handler, timeout, ...args) {\n        const { delegate } = intervalProvider;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) {\n            return delegate.setInterval(handler, timeout, ...args);\n        }\n        return setInterval(handler, timeout, ...args);\n    },\n    clearInterval(handle) {\n        const { delegate } = intervalProvider;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);\n    },\n    delegate: undefined,\n};\n"],"names":["ElementRef","QueryList","debounceTime","MapPointComponent","MapComponent","constructor","dataPoints","_dataPoints","value","renderMapPoints","enabled","isEnabled","init","ngOnInit","latitude","longitude","mapHeight","mapWidth","height","width","hw","getWindowHeightWidth","mapDiv","nativeElement","ownerDocument","ngAfterContentInit","mapPoints","changes","pipe","subscribe","setTimeout","ensureScript","document","window","innerWidth","documentElement","clientWidth","body","innerHeight","clientHeight","loadingScript","script","querySelector","renderMap","mapsScript","createElement","id","type","async","defer","src","onload","appendChild","latlng","createLatLong","options","zoom","center","mapTypeControl","mapTypeId","google","maps","MapTypeId","ROADMAP","map","Map","length","createMarker","markerText","LatLng","clearMapPoints","point","firstName","lastName","mapPointLatlng","markers","forEach","marker","setMap","position","title","infowindow","InfoWindow","content","Marker","animation","Animation","DROP","push","addListener","open","selectors","contentQueries","dateTimestampProvider","Scheduler","schedulerActionCtor","now","schedule","work","delay","state","asyncScheduler","operate","createOperatorSubscriber","dueTime","scheduler","source","subscriber","activeTask","lastValue","lastTime","emit","unsubscribe","next","emitWhenIdle","targetTime","undefined","add","complete","Subscription","Action","intervalProvider","arrRemove","AsyncAction","pending","closed","recycleAsyncId","requestAsyncId","_id","setInterval","flush","bind","_scheduler","clearInterval","execute","Error","error","_execute","_delay","errored","errorValue","e","actions","AsyncScheduler","SchedulerAction","_active","_scheduled","action","shift","delegate","Date","handler","timeout","args","handle"],"sourceRoot":"webpack:///","x_google_ignoreList":[2,3,4,5,6,7,8,9]}